%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%                                                                             %
% Copyright (C) 2006,2008,2012-2014,2017,2019 Edward d'Auvergne               %
%                                                                             %
% This file is part of the program relax (http://www.nmr-relax.com).          %
%                                                                             %
% This program is free software: you can redistribute it and/or modify        %
% it under the terms of the GNU General Public License as published by        %
% the Free Software Foundation, either version 3 of the License, or           %
% (at your option) any later version.                                         %
%                                                                             %
% This program is distributed in the hope that it will be useful,             %
% but WITHOUT ANY WARRANTY; without even the implied warranty of              %
% MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the               %
% GNU General Public License for more details.                                %
%                                                                             %
% You should have received a copy of the GNU General Public License           %
% along with this program.  If not, see <http://www.gnu.org/licenses/>.       %
%                                                                             %
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%


% relax development.
%%%%%%%%%%%%%%%%%%%%

\chapter{relax development} \label{ch: relax devel}

This chapter is for developers or those who would like to extend the functionality of relax.
It is not required for using relax.
If you would like to make modifications to the relax source code please subscribe to all the relax mailing lists\index{mailing list} (see section~\ref{sect: relax mailing lists} on page~\pageref{sect: relax mailing lists}).
Announcements are sent to ``\relaxAnnounceML''\index{mailing list!relax-announce} whereas ``\relaxUsersML''\index{mailing list!relax-users} is the list where discussions about the usage of relax should be posted.
``\relaxDevelML''\index{mailing list!relax-devel} is where all discussions about the development of relax including feature requests, program design, or any other discussions relating to relax's structure or code should be posted.
Finally, ``\relaxCommitsML''\index{mailing list!relax-commits} is where all changes to relax's code and documentation, as well as changes to the web pages, are automatically sent to.
Anyone interested in joining the project should subscribe to all four lists.



% The relax source code repositories.
%~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

\section{The relax source code repositories} \label{git repository}

Although the downloadable distribution archives\index{distribution archive} can be modified, it is best that the most current and up to date code from relax's version control repositories be modified instead.


% relax repositories.
\subsection{relax repositories}

The source and data files for relax are stored in version control repositories.
This allows every single change which has ever been made to be recorded within the repository\index{repository}.
Originally a single Subversion repository was used to hold the source code and webpages but, since the Gna!\ free software infrastructure shutdown, the sources and data were migrated to git\index{git|textbf} repositories (see Section~\ref{sect: infrastructure history} on page~\pageref{sect: infrastructure history} for a detailed history).
If not already installed, you can download git from \url{https://git-scm.com/downloads}.
More information about the basics of version control and how this is implemented in git can be found in the \href{https://git-scm.com/docs}{git reference manual}.

The source and data files are currently organised into the following repositories:
\begin{itemize}
    \item The relax source code git repository, viewable at \url{\relaxCodeWebInterfaceURL}.
    \item The relax website git repository, viewable at \url{\relaxWebsiteWebInterfaceURL}.
    \item The relax demonstration file git repository, viewable at \url{\relaxDemoWebInterfaceURL}.
    \item The archived relax source code and website SVN repository, viewable at \url{\relaxSVNArchiveWebInterfaceURL}.
\end{itemize}


% Primary relax repository.
\subsection{Primary relax repository}

relax is currently hosted on the \relaxHome\ open source infrastructure.
For more information see the free software infrastructure chapter~\ref{ch: free software} on page~\pageref{ch: free software}.

If you are not currently a relax developer you can obtain the repository by typing

\example{\$ git clone \relaxCodeURL\ relax}

Otherwise, if you already are a developer, type

\example{\$ git clone \relaxCodeURLDeveloper\ relax}

replacing \prompt{[username]} with your registered \relaxHome\ login name.
If your version is out of date, it can be updated to the latest commit by typing

\example{\$ git pull}

If you are not currently a registered relax developer, changes can be made to forks of the repository (all details are below)



% Mirrors of the relax repository.
\subsection{Mirrors of the relax repository} \label{sect: relax mirrors}

The relax developers are expected to push all changes to the primary relax repository currently located at \relaxHome.
However, for the future longevity of relax, this repository is mirrored on multiple free software/open source infrastructures.
This should ensure access to relax for decades to come.
The web interfaces to the current mirrors are:
\begin{itemize}
    \item \href{\relaxMirrorBBWebInterfaceURL}{nmr-relax at Bitbucket}
    \item \href{\relaxMirrorGHWebInterfaceURL}{nmr-relax at GitHub}
    \item \href{\relaxMirrorGLWebInterfaceURL}{nmr-relax at GitLab}
    \item \href{\relaxMirrorSFWebInterfaceURL}{nmr-relax at SourceForge}
\end{itemize}


As a relax developer, you can set the mirrored repositories as remotes and push all changes to all mirrors.
Firstly rename the default remote name \example{origin} with

\begin{exampleenv}
\$ git remote rename origin \relaxHomeRemoteName
\end{exampleenv}

Then add all remotes not already present by typing

\begin{exampleenv}
\$ git remote add bb \relaxMirrorBBCodeURLDeveloper \\
\$ git remote add gh \relaxMirrorGHCodeURLDeveloper \\
\$ git remote add gl \relaxMirrorGLCodeURLDeveloper \\
\$ git remote add sf \relaxMirrorSFCodeURLDeveloper
\end{exampleenv}

You will need to be registered at these sites to be able to push to them:
\begin{itemize}
    \item \href{\relaxMirrorBBRegisterURL}{Bitbucket account registration}
    \item \href{\relaxMirrorGHRegisterURL}{GitHub account registration}
    \item \href{\relaxMirrorGLRegisterURL}{GitLab account registration}
    \item \href{\relaxMirrorSFRegisterURL}{SourceForge account registration}
\end{itemize}

Other mirrors may be added in the future.
To push all changes to the mirrors, type

\begin{exampleenv}
\$ git push bb \\
\$ git push gh \\
\$ git push gl \\
\$ git push sf \\
\$ git push --tags bb \\
\$ git push --tags gh \\
\$ git push --tags gl \\
\$ git push --tags sf
\end{exampleenv}

The first commands only push the changes present on the currently checked out branch (creating the remote branch if necessary), and the second set push all tags.
This can be simplified by using a git alias set in the git configuration file.
For example on POSIX systems, in the file \file{.gitconfig} add

\begin{footnotesize}
\begin{verbatim}
[alias]
        pushremotes = !git remote | grep -v local_backup | xargs -L1 git push
\end{verbatim}
\end{footnotesize}

Then instead type

\begin{exampleenv}
\$ git pushremotes \\
\$ git pushremotes --tags
\end{exampleenv}

To download any changes present in any one of the mirrors, type

\example{\$ git fetch --all}



% Coding conventions.
%~~~~~~~~~~~~~~~~~~~~

\section{Coding conventions}

The following conventions should be followed at all times for any code to be accepted into the relax repository.
A Python script which tests if code meets relax's coding conventions is distributed with relax and is located at \file{scripts\ossep{}code\osus{}validator}.
The main reason for these conventions is for readability.
By using a consistent coding style and a high comment ratio, the code becomes much easier to read for non-coders and those new to Python.
It significantly decreases the barrier of entry into the relax source code for NMR spectroscopists.



% Indentation.
\subsection{Indentation}

\index{indentation|textbf}
Indentation should be set to four spaces rather than a tab character.
This is the recommendation given in the Python style guide found at \url{http://www.python.org/doc/essays/styleguide.html}.
Emacs should automatically set the tabstop correctly.
For vi add the following lines to the \file{vimrc} file:

\begin{exampleenv}
set tabstop=4 \\
set shiftwidth=4 \\
set expandtab
\end{exampleenv}

For UNIX systems, including GNU/Linux and Mac OS X, the \file{vimrc} file is \file{$\sim$\ossep{}.vimrc} whereas in MS Windows the file is \file{\$VIM\ossep{}\_vimrc} which is usually \file{C:$\backslash$Program Files$\backslash$vim$\backslash$\osus{}vimrc}.
Certain versions of vim, those within the 6.2 series, contain a bug where the tabstop value cannot be changed using the \file{vimrc} file (although typing \promptstring{:set tabstop=4} in vim will fix it).
One solution is to edit the file \file{python.vim} which on GNU/Linux systems is located in the path \directory{\ossep{}usr\ossep{}share\ossep{}vim\ossep{}ftplugin\ossep{}}.
It contains the two lines

\begin{exampleenv}
" Python always uses a `tabstop' of 8. \\
setlocal ts=8
\end{exampleenv}

If these lines are deleted the bug will be removed.
Another way to fix the problem is to install newer versions of the run-time files (which will do the same thing).



% Doc strings.
\subsection{Doc strings}
\index{doc string|textbf}

The following are relax's conventions for docstrings.
Many of these are Python conventions.
\begin{itemize}
  \item The standard Python convention of a one line description separated from a detailed description by an empty line should be adhered to.
    This line must start with a capital letter and end in a period.
    This convention is required for certain docstring parsers (see the Python docs).
  \item All functions should have a docstring describing in detail the function, structure, and organisation of the code.
  \item A docstring should be followed by an empty line.
  \item Indentation of the docstring should be the same as that of the first line of code, excluding indented lists, etc.
\end{itemize}

An example of a single line docstring is:

\begin{lstlisting}
    def delete(self):
        """Function for deleting all model-free data."""
\end{lstlisting}

An example of a multiline docstring is:

\begin{lstlisting}
def aic(chi2, k, n):
    """Akaike's Information Criteria (AIC).

    The formula is::

        AIC = chi2 + 2k


    @param chi2:    The minimised chi-squared value.
    @type chi2:     float
    @param k:       The number of parameters in the model.
    @type k:        int
    @param n:       The dimension of the relaxation data set.
    @type n:        int
    @return:        The AIC value.
    @rtype:         float
    """

    return chi2 + 2.0*k
\end{lstlisting}

In addition to the text descriptions, the docstrings use the \href{http://epydoc.sourceforge.net/}{Epydoc}\index{epydoc} markup language to describe arguments, return values, and other information about the code.
See \url{http://epydoc.sourceforge.net/fields.html} for a listing of all the epydoc fields allowed.
This markup language is important for the creation of the \href{http://www.nmr-relax.com/api/}{API documentation}\index{API documentation} and to help developers understand the purpose and operation of the code.


% Variable, function, and class names.
\subsection{Variable, function, and class names}

In relax a mixture of both camel case (e.g.\ CamelCase)\index{camel case} and lower case with underscores is used.
Despite the variability there are fixed rules which should be adhered to.
These naming conventions should be observed at all times.



% Variables and functions.
\subsubsection{Variables and functions}

For both variables and functions lower case with underscores between words is always used.
This is for readability as the convention is much more fluent than camel case.
A few rare exceptions exist, an example is the Brownian diffusion tensor parameter of anisotropy $\Diff_a$ which is referenced as \prompt{cdp.diff\_tensor.Da}.
As a rule though all new variable or function names should be kept as lower case.
An example of this convention for both the variable name and function name is:

\begin{lstlisting}
    def assemble_param_vector(self, spin=None, spin_id=None, sim_index=None, model_type=None):
        """Assemble the model-free parameter vector (as numpy array).

        If the spin argument is supplied, then the spin_id argument will be ignored.

        @keyword spin:          The spin data container.
        @type spin:             SpinContainer instance
        @keyword spin_id:       The spin identification string.
        @type spin_id:          str
        @keyword sim_index:     The optional MC simulation index.
        @type sim_index:        int
        @keyword model_type:    The optional parameter set, one of 'all', 'diff', 'mf', or 'local_tm'. 
        @type model_type:       str or None
        @return:                An array of the parameter values of the model-free model.
        @rtype:                 numpy array
        """

        # Initialise.
        param_vector = []

        # Determine the model type.
        if not model_type:
            model_type = self.determine_param_set_type()

        # Diffusion tensor parameters.
        if model_type == 'diff' or model_type == 'all':
            # Normal parameters.
            if sim_index == None:
                # Spherical diffusion.
                if cdp.diff_tensor.type == 'sphere':
                    param_vector.append(cdp.diff_tensor.tm)
\end{lstlisting}



% Classes.
\subsubsection{Classes}

For classes relax uses a mix of camel case (for example all the \prompt{RelaxError} objects) and underscores (for example \pycode{Model\_free}).
The first letter in all cases is always capitalised.
Generally the camel case is reserved for very low level classes which are involved in the program's infrastructure.
Examples include the RelaxError code, the threading code, and the relax data store code.
All the data analysis specific code, data pipe control code, interface code, etc.\ uses underscores between the words with only the first letter capitalised.
One exception is the space mapping class \pycode{OpenDX}, the reason being that the program is called \prompt{OpenDX}.
An example is:

\begin{lstlisting}
class Model_free_main:
    """Class containing functions specific to model-free analysis."""

    def are_mf_params_set(self, spin):
        """Test if the model-free parameter values are set.

        @param spin:    The spin container object.
        @type spin:     SpinContainer instance
        @return:        The name of the first parameter in the parameter list in which the corresponding parameter value is None.  If all parameters are set, then None is returned.
        @rtype:         str or None
        """

        # Deselected residue.
        if spin.select == 0:
            return
\end{lstlisting}



% Long names.
\subsubsection{Long names}

If you have a look at a few relax source files, you will notice that the variable, function, and class names can be quite long.
For example the model-free function \pycode{disassemble\_param\_vector()} and the RelaxError class \pycode{RelaxNoSequenceError}.
While this is not normal for coding, it is an important component of relax as it facilitates the reading of the source code by a non-coder or someone not familiar with the codebase.
Iteration counters can be single letter variables such as \pycode{i}, \pycode{j}, \pycode{k}, etc., however for all other variables, functions, and classes please attempt to use descriptive names which are instantly identifiable.
Please minimise the amount of abbreviations used and only use those which are obvious.
For example naming the parameter vector \pycode{self.param\_vector}, the relaxation data \pycode{relax\_data}, the model selection class \pycode{class Model\_selection}, the type of spheroidal diffusion \pycode{spheroid\_type}, etc.



% Whitespace.
\subsection{Whitespace}

The following conventions are for general code cleanliness and readability:
\begin{itemize}
  \item Trailing whitespace is to be avoided.
  \item All functions should be preceded by two empty lines.
    The only exception is the first function of the class definition.
  \item Function arguments should be separated by a comma followed by a single space.
  \item The assignment operator should be surrounded by spaces, for example \verb*!tm = 1e-8!.
    The exception is function arguments, for example \verb*!self.classic\_colour(res\_num=None, width=0.3)!.
  \item The comparison operators should also be surrounded by spaces, e.g.\ \verb*! < !, \verb*! > !, \verb*! == !, \verb*! <= !, \verb*! => !, \verb*! <> !, \verb*! != !, \verb*! is !, and \verb*! in !.
\end{itemize}

An example which shows most of these conventions is:
\begin{lstlisting}
class Internal:
    """The internal relax structural data object.

    The structural data object for this class is a container possessing a number of different arrays corresponding to different structural information.  These objects are described in the structural container docstring.
    """

    def _bonded_atom(self, attached_atom, index, mol):
        """Find the atom named attached_atom directly bonded to the atom located at the index.

        @param attached_atom:   The name of the attached atom to return.
        @type attached_atom:    str
        @param index:           The index of the atom which the attached atom is attached to.
        @type index:            int
        @param mol:             The molecule container.
        @type mol:              MolContainer instance
        @return:                A tuple of information about the bonded atom.
        @rtype:                 tuple consisting of the atom number (int), atom name (str), element name (str), and atomic position (Numeric array of len 3)
        """

        # Init.
        bonded_found = False

        # No bonded atoms, so determine the connectivities.
        if not mol.bonded[index]:
            # Determine the molecule type if needed.
            if not hasattr(mol, 'type'):
                self._mol_type(mol)
\end{lstlisting}



% Comments.
\subsection{Comments}

Comments are a very important component within relax.
In the current source code the percentage of comment lines relative to lines of code ranges from 15\% to over 30\% for different files.
The average comment density is close to 25\%.
The purpose of having so many comment lines, much more than you would expect from source code, is so that the relax's code is fully self documented.
It allows someone who is not familiar with the codebase to read the code and quickly understand what is happening.
It simplifies the process of learning and allows NMR spectroscopists who are not coders to dive into the code.
When writing code for relax, please attempt to maintain the tradition by aiming towards a 25\% comment ratio.
The comment should be descriptive and explain the intent of the code below.
The script \file{scripts\ossep{}code\osus{}validator} can be used to check the comment density.



% Committers.
%~~~~~~~~~~~~

\section{Committers} \label{sect: committers}


% Becoming a committer.
\subsection{Becoming a committer}\label{becoming a committer}

Anyone can become a relax developer and obtain commit access\index{commit access} to the relax repository.
Some criteria for selection by the relax developers include:
\begin{itemize}
    \item To show good judgement.
    \item Competence in producing good patches.
    \item Compliance with the coding and commit log conventions.
    \item Comportment on and usage of the mailing lists.
    \item Not producing too many bugs.
    \item Only taking on challenges which can be handled.
    \item Being able to judge your own abilities.
\end{itemize}
You will also need to have an understanding of the concepts of version control specifically those relating to git\index{git}.
The git reference manual at \url{https://git-scm.com/docs} contains all the information you will need.
After a number of commits have been accepted and merged, any of the relax developers can propose that you receive commit access to the parent repository.
If a number of developers agree while no one says no then commit access will be offered.

One area where coding ability can be demonstrated is within the relax test suite\index{test suite}.
The addition of tests, especially those where the relax internal data structures of the relax data store are scrutinised, can be a good starting point for learning the structure of relax.
This is because development within the test suite is isolate from normal program execution.
Hence the relax test suite is an ideal sandbox.

If skills in only certain areas of relax development, for example in creation of the documentation, an understanding of C but not python, an understanding of solely the code of the user interface, or an understanding of the code specific to a certain type of data analysis methodology, then partial commit access may be granted.
Although you will have the ability to make modifications to any part of the repository please make modifications only those areas for which you have permission.



% Infrastructure account
\subsection{Register for a relax infrastructure account}

The first step in becoming a relax committer is to create a \relaxHome\ account\index{\relaxHome}.
Simply go to \url{\relaxHomeRegisterURL} and fill in the required details (many parts are optional).
You will then receive a confirmation email.



% Joining the relax project.
\subsection{Joining the relax project}

The second step in becoming a committer is to ask to become a member of the relax project.
Simply send an email to the relax development mailing list (see Section~\ref{sect: relax-devel mailing list} on page~\pageref{sect: relax-devel mailing list}).
Note that as a relax developer, you are expected to subscribe to all of the relax mailing lists.


% Format of the commit logs.
\subsection{Format of the commit logs}\label{commit log format}
\index{commit log|textbf}

If you are a relax developer and you have commit access to the repository the following conventions should be followed for all commit messages.
\begin{itemize}
  \item The length of all lines in the commit log should never exceed 100 characters.
    This is so that the log message viewed in either emails or by the command prompt command \mbox{\prompt{git log}} is legible.
    In vim, for example, this can be set in the vimrc file with the line \example{au FileType gitcommit set tw=100}.
  \item The first line of the commit log should be a short description or synopsis of the changes.
    If the change relates to a bug or a task, include the bug and task number using the notation \texttt{type \#num} where type is either \texttt{bug}, \texttt{task} or \texttt{support} and \texttt{num} is the id number (for example \texttt{bug \#6503}).
    Also include a link to the tracker.
  \item The second line should be blank.
  \item If the commit is a bug fix reported by a non-committer or if the commit originates from a patch posted by a non-committer the next lines should be reserved for crediting.
    The name of the person and their obfuscated email address (for example edward \_at\_ nmr-relax \_dot\_ com) should be included in the message.
  \item Next should be another blank line.
  \item If the commit relates to an entry in the bug tracker or to a discussion on the mailing lists then the web address of either the bug report or the mailing list archive message should be cited in the next section (separated from the synopsis or credit section by a blank line).
    All relevant links should be included to allow easy navigation between the repository\index{repository}, mailing lists\index{mailing list}, bug tracker\index{bug!tracker}, etc.
    An example is the old bug \#5559 which is now archived at \url{https://web.archive.org/web/https://gna.org/bugs/?func=detailitem\&item\_id=5559} and the post to the relax development mailing list\index{mailing list!relax-devel} describing the fix to that bug which is archived at \url{http://www.nmr-relax.com/mail.gna.org/public/relax-devel/2006-03/msg00013.html}.
  \item A full description with all the details can follow.
    This description should follow a blank line, can itself be sectioned using blank lines, and finally the log is terminated by one blank line at the end of the message.
\end{itemize}


\subsubsection{Example commit logs}

Note these are old commit logs prior to the switch from SVN to git and prior to the Gna! shutdown (see Section~\ref{sect: infrastructure history} on page~\pageref{sect: infrastructure history}).
An example of a commit message for the closure of a bug is:

\begin{scriptsize}
\begin{verbatim}
Fixing the rest of bug #7241 (https://gna.org/bugs/?7241).

Bug #7241 was thought to be fixed in in r2591 and r2593, the commit messages describing the solution
being located at https://mail.gna.org/public/relax-commits/2006-09/msg00064.html (Message-id:
<E1GTgBi-0000R6-4h@subversion.gna.org>) for r2591 and
https://mail.gna.org/public/relax-commits/2006-10/msg00001.html (Message-id:
<E1GTt6C-0005rk-8q@subversion.gna.org>) for r2593.

However this was not the only place that the Scientific Python PDB data structure peptide_chains was
being accessed.  The chains were being accessed in the file 'generic_fns/sequence.py' when the
sequence was being read out of the PDB file.  This has now been modified with changes similar to
r2591 and r2593.
\end{verbatim}
\end{scriptsize}

An example of a commit message for changes relating to a task is:

\begin{scriptsize}
\begin{verbatim}
This change implements half of task #3630 (https://gna.org/task/?3630).

The docstring in the generic optimisation function has been modified to clear up the ambiguity cased
by supplying the option 'None' together with Newton optimisation.
\end{verbatim}
\end{scriptsize}

One last commit message example is:

\begin{scriptsize}
\begin{verbatim}
Added the API documentation creation (using Epydoc) to the Scons scripts.

The Scons target to create the HTML API documentation is called 'api_manual_html'.  The
documentation can be created by typing:
$ scons api_manual_html

The function 'compile_api_manual_html()' was added to the 'scons/manuals.py' file.  This function
runs the 'epydoc' command.  All the Epydoc options are specified in that function.
\end{verbatim}
\end{scriptsize}



% Discussing major changes.
\subsection{Discussing major changes}

If you are contemplating major changes, either for a bug fix, to add a completely new feature or user function for your own work, to improve the behaviour of part the program, or any other potentially disruptive modifications, please discuss these ideas on the relax development mailing list\index{mailing list!relax-devel}.
If the planned changes have the potential to introduce problems, the creation of a branch may be suggested.



% Submitting changes to the relax project.
%~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

\section{Submitting changes to the relax project}


If you are not currently registered as a relax developer, to have your changes incorporated into relax you will either need to create patches or push your changes from your local repository to a fork of the primary or mirror relax repositories.
These changes need to be committed to a dedicated development branch.


% Development branches.
\subsection{Development branches}
\index{branches|textbf}
\index{repository!branches|textbf}

When making changes to the relax git repository, you should never commit changes to the \terminal{master} branch.
Instead a dedicated development branch must be used.
For example to create a branch from the main development line, the \terminal{master} branch, called \terminal{molmol\_macros} whereby new Molmol macros are to be written, type

\example{\$ git checkout master}

This is to firstly switch \terminal{master} branch if not already there.
Then create and switch to your new development branch by typing

\begin{exampleenv}
\$ git branch molmol\_macros/r1 \\
\$ git checkout molmol\_macros/r1
\end{exampleenv}

The reason for the \terminal{*/r1} suffix will be discussed later.
The \terminal{master} branch should be kept clean, either by tracking the primary or mirror repository's \terminal{master} branch directly, or only performing mergers from that branch (as forks should do).
Modifications can be made to this copy while normal development continues on the \terminal{master} branch.


% Syncing.
\subsection{Keeping the branch up to date} \label{sect: up to date git}
\index{repository!keeping up to date}

As you develop your branch, changes will be occurring simultaneously within the \terminal{master} branch.
These changes should be incorporated into your branch on a regular basis to avoid large incompatible changes from forming between the two branches.
For your changes to be incorporated into relax's \terminal{master} branch, the `git rebase' concept and not `git merge' should be used.


% Versioning git branches.
\subsubsection{Versioning git branches} \label{sect: git branch versioning}
\index{repository!branch versioning}

If you have already pushed your changes to a remote repository, you will need to create a new version of your branch.
You should never rebase a branch that is tracking a remote branch (unless you subsequently rename the rebased branch and untrack the remote).
In the above example, the \terminal{molmol\_macros/r1} branch is using such a manual versioning system.
The second version of your branch can be created by typing

\begin{exampleenv}
\$ git checkout molmol\_macros/r1 \\
\$ git branch molmol\_macros/r2 \\
\$ git checkout molmol\_macros/r2
\end{exampleenv}

You can then leave the \terminal{molmol\_macros/r1} branch untouched and instead rebase the new \terminal{molmol\_macros/r2} branch.



% Rebasing.
\subsubsection{Rebasing to the master branch}
\index{repository!rebasing}

Assuming you have not already pushed your branch to a remote repository, you can rebase your branch to the \terminal{master} branch.
Firstly make sure your local copy of the \terminal{master} branch is fully up to date, then type

\example{\$ git rebase -i master}

Or fetch all changes from the primary \relaxHome\ remote (or a mirror) and rebase to the remote \terminal{master} branch with

\begin{exampleenv}
\$ git fetch \relaxHomeRemoteName \\
\$ git rebase -i \relaxHomeRemoteName/master
\end{exampleenv}

If conflicts\index{git!conflict} have occurred please refer to the \href{https://git-scm.com/docs}{git reference manual} for information on how to resolve the problem.
To avoid accidental loss of your changes when major conflicts occur, version control of your branch can be used to preserve the current set of changes (see Section~\ref{sect: git branch versioning}).
For example if the current branch is named \terminal{my\_branch/r4}, increment to the fifth version of the branch with

\begin{exampleenv}
\$ git checkout my\_branch/r4 \\
\$ git branch my\_branch/r5 \\
\$ git checkout my\_branch/r5
\end{exampleenv}

Then you can perform the risky rebase on the new \terminal{my\_branch/r5} branch, knowing that the changes in \terminal{my\_branch/r4} remain safe.
This process is a lot less stressful than having to deal with `git reflog' when things go wrong.


% Patches
\subsection{Submitting patches}
\index{patches|textbf}
\index{repository!patches|textbf}

Although not recommended, if you wish you can submit your changes as patches.
You will need to have a local git repository and have your changes saved as git commits in a dedicated development branch.
For details, see the \href{https://git-scm.com/docs}{git reference manual}.
You will need to first make sure that your branch is fully up to date (Section~\ref{sect: up to date git} on page~\pageref{sect: up to date git}).
The patches are then created by typing

\example{\$ git format-patch master}

This will create one \file{*.patch} file per branch commit.
These files can then be emailed to the \relaxDevelML\ mailing list (this requires a \href{\relaxDevelMLSubscribeURL}{subscription}).


% Repository forks.
\subsection{Repository forks}
\index{forks|textbf}
\index{repository!forks|textbf}

A simpler process than submitting patches is to push your development branch to a fork of the relax repository.
You can then send an email to the relax development mailing list (see Section~\ref{sect: relax-devel mailing list} on page~\pageref{sect: relax-devel mailing list}) describing and naming the branch and providing a web accessible URL to the git repository.


\subsubsection{Web interface fork creation}

The simplest way to create a relax fork is to use the web interface for the relax repository at \relaxHome\ or one of the mirrors:
\begin{itemize}
    \item \href{\relaxMirrorBBCodeWebInterfaceURL}{relax source code repository at Bitbucket}
    \item \href{\relaxMirrorGHCodeWebInterfaceURL}{relax source code repository at GitHub}
    \item \href{\relaxMirrorGLCodeWebInterfaceURL}{relax source code repository at GitLab}
    \item \href{\relaxMirrorSFCodeWebInterfaceURL}{relax source code repository at SourceForge}
\end{itemize}

Simply click on the `fork' button or link and follow the instructions (Bitbucket requires a click on the plus symbol to see the fork link).
This requires user registration at one of these sites (see Section~\ref{sect: relax mirrors} on page~\pageref{sect: relax mirrors}).

Once the repository is forked, you can clone that repository, create a versioned development branch, and push the branch.
Or if you have a preexisting cloned relax repository you have worked on, set the fork as a remote and push the development branch to the new remote.


\subsubsection{Pushing to an empty git repository}

Alternatively, you can push your already cloned repository to a new git repository anywhere you wish.
For example if you have your own server and create an empty bare repository accessible from \terminal{git@my\_domain.com/relax/relax.git}, in the local clone type

\begin{exampleenv}
\$ git remote add my\_remote git@my\_domain.com/relax/relax.git \\
\$ git push --all my\_remote \\
\$ git push --tags my\_remote
\end{exampleenv}

This will push all branches and tags to the empty repository.


% Merging the branch back into the main line.
\subsection{Merging the branch back into the main line}
\index{repository!merging branch back}

Once the changes have been accepted, possibly after a few revisions of the branch, it can be merged by one of the relax developers back into the primary relax repository.
Taking the MOLMOL macro example again, assuming seven revisions of that branch, the relax developer will add your remote git repository as a remote and pull in the branch.
Then it will be rebased and merged to \terminal{master} with

\begin{exampleenv}
\$ git checkout molmol\_macros/r7 \\
\$ git rebase -i master \\
\$ git checkout master \\
\$ git merge molmol\_macros/r7
\end{exampleenv}
\index{git!merge}

This ensures a clean and linear history for the \terminal{master} branch.
If the rebase process results in conflicts that the relax developer cannot fix, you will be asked to create a new \terminal{molmol\_macros/r8} branch and perform the rebase and conflict resolution yourself.

Note that web interface `pull requests' or `merge requests' will not be used, and that it is better to send an email to the relax developer mailing list rather than to use these features of the web interface (which may be missed by the relax developers, especially when a relax mirror is used).



% The SCons build system.
%~~~~~~~~~~~~~~~~~~~~~~~~

\section{The SCons build system}
\index{SCons|textbf}

The \href{http://www.scons.org/}{SCons} build system was chosen over other build systems including \prompt{make}\index{make} as it is a cross-platform build system which can be used in Unix\index{Operating system!Unix}, GNU/Linux\index{Operating system!GNU/Linux}, Mac OS X\index{Operating system!Mac OS X}, and even MS Windows\index{Operating system!MS Windows} (the correct compilers are nevertheless required).
Various components of the program relax can be created using the SCons utility.
This includes C module compilation, manual creation, distribution creation, and cleaning up and removing certain files.
The file \file{sconstruct} in the base relax directory, which consists of python code, directs the operation of SCons for the various functions.



% SCons help.
\subsection{SCons help}
\index{SCons!help|textbf}

Multiple functions have been built into the \file{sconstruct} script and the modules of the \directory{scons} directory.
Each of these can be selected by specifying different ``targets'' when running SCons.
A description of each target is given by the SCons help system which is accessible by typing \prompt{scons --help} in the base relax directory.



% C module compilation.
\subsection{C module compilation}
\index{C module compilation|textbf}
\index{SCons!C module compilation|textbf}

As described in the installation chapter, typing \prompt{scons} in the base directory will create the shared objects or dll files which are imported into Python as modules.



% Compilation of the PDF manual.
\subsection{Compilation of the user manual (PDF version)}
\index{user manual!PDF compilation|textbf}

To create the PDF version of the relax user manual type

\example{\$ scons user\_manual\_pdf}
\index{SCons!user manual (PDF version)|textbf}

in the base directory.
SCons will then run a series of shell commands to create the manual from the \LaTeX\ sources located in the \directory{docs\ossep{}latex} directory.
This is dependent on the programs \file{latex}, \file{makeindex}, \file{dvips}, and \file{ps2pdf} being located within the environment's path.



% Compilation of the HTML manual.
\subsection{Compilation of the user manual (HTML version)}
\index{user manual!HTML compilation|textbf}

The HTML version of the relax user manual is made by typing

\example{\$ scons user\_manual\_html}
\index{SCons!user manual (HTML version)|textbf}

in the base directory.
One command calling the program \file{latex2html} will be executed which will create HTML pages from the \LaTeX\ sources.



% Compilation of the API documentation.
\subsection{Compilation of the API documentation (HTML version)}
\index{API documentation|textbf}

The HTML version of the relax API documentation is made by typing

\example{\$ scons api\_manual\_html}
\index{SCons!API documentation|textbf}

in the base directory.
The programs Epydoc and Graphviz are required for creating this documentation.
The resultant HTML pages will be located in the directory \directory{docs\ossep{}api}.



% Making distribution archives.
\subsection{Making distribution archives}
\index{distribution archive|textbf}

Two types of distribution archive can be created from the current sources -- the source and binary distributions.
To create the source distribution type 

\example{\$ scons source\_dist}
\index{SCons!source distribution|textbf}

To create the binary distribution, whereby the C modules are compiled and the resultant shared objects are included in the bzipped tar file, type

\example{\$ scons binary\_dist}
\index{SCons!binary distribution|textbf}

If a binary distribution does not exist for your architecture feel free to create it yourself and contribute the archive to be included on the download pages.
To do this you will need to check out the appropriate tag from the relax repository.
If the current stable release is called 4.0.3, check out that tag by typing

\example{\$ git checkout 4.0.3}
\index{git!check out}

This requires you to be in a directory of a local copy of the relax git repository (see Section~\ref{git repository} on page~\pageref{git repository}).

Then build the binary distribution and send a message to the relax development mailing list\index{mailing list!relax-devel}.
If compilation does not work please submit a bug to the bug tracker\index{bug!tracker} system at \url{\relaxBugTrackerSearchURL} detailing the relax version, operation system, architecture, and any other information you believe will help to solve the problem.
More information about donating binary distributions to the relax project is given in the free software infrastructure chapter (Chapter~\ref{ch: free software}, page~\pageref{ch: free software}).



% Cleaning up.
\subsection{Cleaning up}
\index{clean up|textbf}

If the command

\example{\$ scons clean}
\index{SCons!clean up|textbf}

is run in the base directory all Python byte compiled files \file{*.pyc}, all C object files \file{*.o} and \file{*.os}, and any backup files with the extension \file{*.bak} are removed from all sub-directories.
In addition any temporary \LaTeX\ compilation files are removed from the \directory{docs\ossep{}latex} directory.

The more powerful command

\example{\$ scons clean\_all}

will, in addition to all the files removed by the \prompt{clean} target, remove all compiled C shared object files (\file{*.so}, \file{*.dylib}, \file{*.pyd}) and the \prompt{build} and \prompt{dist} directories created when building the Mac OS X application.



% The core design of relax.
%~~~~~~~~~~~~~~~~~~~~~~~~~~

\section{The core design of relax}

To enable flexibility, the internal structure of relax has been designed to be highly modular.
By construction the large collection of independent data analysis tools can be used individually and relatively easily by any new code implementing other forms of data analysis or even by other programs.
The core modular design of the program is shown in Figure~\ref{fig: core design}.



% The divisions of relax's source code.
\subsection{The divisions of relax's source code}

relax's source code can be divided into a few major categories:  the initialisation code, the user interface (UI) code, the functional code, the number crunching code, the code storing the program state, the multi-processor, the auto-analyses, and the test suite.
\begin{description}
  \item[Initialisation:]  The code belonging to this section initialises the program, processes the command-line arguments, and determines what mode the program will be run in including the choice of the UI.
  \item[UI:]  The current UI modes in relax include the prompt, the script and the GUI modes.
    These consist of separate code paths, all sitting on top of the underlying functional code.
    It includes the user function code with is shared by all UIs.
  \item[Functional code:]  This code is the main part of the program.
    It includes anything which does not fit into the other sections and comprises the data pipe control code, the specific analysis code, and the relax library.
  \item[Number crunching:]  The computationally expensive code belongs in this section.
    This also includes parts of the relax library as used by the target functions.
  \item[Program state:]  Most of the state of the program is contained within the relax data store which is accessible from all parts of the program as a singleton object.
    Additional non-persistent state information is held in the relax status singleton object.
  \item[Multi-processor:]  All relax execution passes through this interface which allows for uni-processor and OpenMPI multi-processor operations on code that has been specifically parallelised for this task.
  \item[Auto-analyses:]  Although not shown in Figure~\ref{fig: core design}, these are essentially advanced relax scripts to simplify data analyses for users.
  \item[Test suite:]  This is where the majority of relax code is located.
    The relax test suite covers almost 100\% of the functionality of relax.
    If code paths in relax are not tested in the test suite, they are considered equivalent to not existing.
    The extensive and almost complete coverage ensures that relax will be future-proof and continue to operate as expected.
\end{description}

% Core relax design figure.
\begin{figure}
  \centerline{
    \includegraphics[
      width=\textwidth,
      bb=57 273 447 750
    ]
    {images/core_design}
  }
  \caption{The core design of relax.}
  \label{fig: core design}
\end{figure}



% The major components of relax.
\subsection{The major components of relax}

Each of the boxes in Figure~\ref{fig: core design} represents a different grouping of code.
\begin{description}
  \item[relax:]  The top level module.
    This initialises the entire program, tests the dependencies, sets up the multi-processor framework and specific processor fabric, and prints the program's introduction message.
  \item[Command line arguments:]  This code processes the arguments supplied to the program and decides whether to print the help message, initialise the prompt, execute a script, initialise a different UI, run the program in test mode, or run the program as a slave thread.
  \item[Prompt:]  The user interface consisting of highly modified Python\index{Python} prompt\index{User interface!prompt|textbf}.
    The namespace of the interpreter contains the various user functions which are front ends to the functional code.
    The auto-generated user function front end tests the supplied arguments to make sure they are of the correct type (string\index{string}, integer\index{integer}, list\index{list}, or any other type) before sending the values to the functional code.
    The code for the prompt is located in the \directory{prompt\ossep{}} directory and the user function front ends in the \directory{user\osus{}functions\ossep{}} directory.
  \item[Script:]  If a script\index{User interface!scripting|textbf} is supplied on the command line or executed within another user interface it will be run in the same namespace as that of the prompt.
    Hence the script has access to all the user functions available at the relax prompt.
    This allows commands which are typed at the prompt to be pasted directly and unmodified into a text file to be run as a script.
    The code sits alongside the prompt user interface in the \directory{prompt\ossep{}} directory.
  \item[GUI:]  The graphical user interface\index{User interface!GUI|textbf} code base is located in the \directory{gui\ossep{}} directory.
    It is implemented using \href{https://wxpython.org/}{wxPython} so that relax uses the native widgets of the operating system.
  \item[Other interfaces:]  Any number of interfaces (for example a web-based interface or an ncurses interface) could be added to relax with minimal modification of the rest of relax.
    This must be, without question, developed within the relax source code repository otherwise the code will not be maintainable in the future and will be almost impossible to merge back into relax later on.
    Due to the almost complete test suite coverage, relax is continually being refactored for modularity, flexibility, and speed hence any out-of-tree code that is not safeguarded by the test suite will quickly suffer bit-rot and depreciate in a short period of time.
  \item[Pipe control code:]  This code includes classes and functions which are independent of the UI and not specific to a certain data pipe type or `specific analysis'.
    Pipe control is about managing the relax data store and it is located in the \directory{pipe\osus{}control\ossep{}} directory.
  \item[Specific analyses API:]  This is the code which is specific to the data pipe type -- model-free analysis, relaxation curve-fitting, reduced spectral density mapping, the NOE calculation, consistency testing, the N-state or ensemble model analysis, relaxation dispersion, and the frame order analysis.
    Each type is located in a separate directory (Python package) within the \directory{specific\osus{}analyses\ossep{}} directory.
  \item[The relax library:]  This is a diverse collection of functions located within the \directory{lib\ossep{}} directory.
      Most independent functions that do not touch the relax data store or are not part of the internal relax API should be located within the relax library.
      This standalone library can be used independently of relax and it is used by all parts of relax.
      The relax data store combined with the relax library creates a development environment rivalling Mathematica, Matlab, Maxima, Octave, etc.\ but with a strong focus on NMR.
      This includes support for handling 3D molecular structures (or no structure), spectral data input, NMR phenomenon and many mathematics functions specific for NMR, and data visualization.
  \item[Target functions:]  This is reserved for CPU intensive code involved in optimisations and calculations.
    Most of relax's execution time when performing an analysis is spent here.
    An optimisation algorithm feeds in different parameter values into a `target function' in its attempt to minimise the single value returned by that target function (often a $\chi^2$ value).
    The code may be written in Python however C code can be used to increase the speed of the calculations.
    Note that good design and the use of numpy can be orders of magnitude more important for speed than the choice of programming language.
    For optimisation the code can include function evaluations, calculation of gradients, and calculation of Hessians.
    These functions are located in the \directory{target\osus{}functions\ossep{}} directory.
  \item[Data:]  The program state is stored in the relax data store singleton object.
    This class contains all the program data and is accessed solely by the pipe control and specific analysis code.
    The data structures are located in the \file{data\osus{}store\ossep{}} directory.
    Note that some temporary program execution information is stored in the relax status singleton object (located in \file{status.py}).
\end{description}




% The mailing lists.
%~~~~~~~~~~~~~~~~~~~

\section{The mailing lists for development}
\index{mailing list|textbf}


% Private vs. public messages.
\subsection{Private vs.\ public messages}

If you would like to start a private discussion, please label your email as such.
Private messages are however strongly discouraged, only start a private conversation if you really must.

If you receive a reply to a message you have sent, a bug report you have filed, etc.\ which has not been sent to the mailing list and has not been labelled as private, then the most likely explanation is that ``reply-to-all'' has not been used and hence the mailing list has not been included on the CC list.
If this occurs, please ask the person if the message was meant to be private and refrain from discussing any of the comments within the post.
Save these comments until after the person responds by saying that the message was private or re-sends the message to the mailing list.
Try to encourage public messages if you think that the post need not be private and if you think that it would be useful for the mailing list archives.

For thread consistency, if you send a message which accidentally misses the mailing list, please do not then forward the previously sent message to the list.
For better readability of the mailing list archives, it is best that you create an entirely new message responding to the original post.
Just cut and paste your miss-directed message into your new message.
That way the thread will be continuous -- there will not be any messages missing from the middle of the thread in between the original post and your forwarded message.

To simplify the process of checking if the message was supposed to be private, you could copy-and-paste the following message (modifying it as you see fit):

\begin{exampleenv}
Sorry in advance, but the following is the standard pre-composed response to a post not sent to the relax mailing lists and not labelled as private.  If you would like to start a private conversation about relax, please label your message as such.  If you really must start a private exchange, please respond to this message saying so.  If your message was meant to be sent to the relax mailing list, please send the message again.  For this, please copy-and-paste your message, replying to the original (i.e.\ no forwarding), and making sure that the mailing list is in the CC field by clicking on ``reply-to-all''.
\end{exampleenv}




% The bug, task, and support request trackers.
%~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

\section{The bug, task, and support request trackers}
\index{bug!tracker|textbf}
\index{task!tracker|textbf}
\index{support request!tracker|textbf}
\index{tracker!bug|textbf}
\index{tracker!task|textbf}
\index{tracker!support request|textbf}

relax's infrastructure includes three different issue trackers.
These are the \href{https://web.archive.org/web/https://gna.org/bugs/?group=relax}{bug tracker}, the \href{https://web.archive.org/web/https://gna.org/task/?group=relax}{task tracker}, and the \href{https://web.archive.org/web/https://gna.org/support/?group=relax}{support request tracker}.



% Submitting a bug report.
\subsection{Submitting a bug report}

If someone reports a bug to one of the relax mailing lists, ask that person if they would like to create a bug report for that problem, pointing them to the submission web page.
This is a good starting point to allow the person to become more involved in the relax project.
If they do not respond or say that they would prefer not to, then you can create bug report for the issue linking to the original message and crediting the person for reporting the issue.



% Assigning an issue to yourself.
\subsection{Assigning an issue to yourself}

If you are a relax committer and see an issue which you would like to solve, please assign that issue to yourself before you start work on it.
The assignment will prevent duplicated efforts.
If you can see an area where relax needs work, feel free to create a report within task tracker and then assign the task to yourself.



% Closing an issue.
\subsection{Closing an issue}

When closing an issue (whether a bug report, a task, or a support request) a number of steps need to be taken.
The tracker status should be changed to ``Done'' and the issue ``Closed''.
In addition, a message should be included which states the repository revision and the relax-commits mailing list archive link (with the message-id) in which the issue was solved.
If multiple commits were required, then include all the revisions and as many links as possible (if a task required many commits, the relax-commits links could be skipped).
An example is \href{https://web.archive.org/web/https://gna.org/bugs/?7402}{bug \#7402} where the closing comment was:

\begin{exampleenv}
This documentation bug was fixed in r2641. The commit message is located at \href{http://www.nmr-relax.com/mail.gna.org/public/relax-commits/2006-10/msg00073.html}{http://www.nmr-relax.com/mail.gna.org/public/relax-commits/2006-10/msg00073.html} (Message-id: <E1GYG4l-0002kK-Jx@subversion.gna.org>).
\end{exampleenv}



% Links, links, and more links.
%~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

\section{Links, links, and more links}
\index{linking|textbf}

Creating links throughout the relax infrastructure is important for two major reasons -- navigation and search engine indexing.
When including a link to a post within the mailing list archives, please include the message-id email header.
This enables subscribers to the mailing lists to search for the specific message within their local copy of the email messages.



% Navigation.
\subsection{Navigation}

To be able to easily navigate between the relax infrastructure components -- the bug tracker, the task tracker, the support request tracker, the relax-devel mailing list, the commit logs, and the SVN and CVS repositories -- try to include as many links as possible.

For example a bug may first be reported on the relax-users mailing list, then placed within the bug tracker, discussed on relax-devel, a fix committed to the repository, and finally the bug report closed.
To be able to follow this chain, links are very important (email message-ids are also important).
When the bug is first added to the bug tracker, a link to the relax-users mailing list archive message and the message-id should be included.
If you start a discussion on relax-devel, try to include links to the bug tracker entry and the relax-users message.
When committing a fix to the repository, include links to the bug report, to the start of the thread in the mailing list archive, and the original message to relax-users.
Then when the bug report is closed, include the revision number of the fix and a link to the relax-commits archive message (and message-id).
By having all these links, it is then very easy for someone else to jump between the systems and follow the progression of the bug fix.

If you send a message referring to an old post which was sent the relax mailing lists, an old bug report, or any other archived information, please take the time to find that original information in the archives and include a link to it (including the message-id if relevant).
It is much more efficient for a single person to hunt down that message than for the many recipients of your post to search for the message themselves.
By including the link, you decrease the overhead of following the mailing list.



% Search engine indexing.
\subsection{Search engine indexing}

Having a large web of links across relax's infrastructure aids in the search engine indexing of the mailing list archives and the \href{http://www.nmr-relax.com}{http://www.nmr-relax.com} web site.
The web of links is useful for catching those Google bots.
That way the Google searching of the mailing list archives located on the \href{http://www.nmr-relax.com/communication.html}{communication web page} will be more up to date.
However to increase the search engine ranking of the web site, links to \href{http://www.nmr-relax.com}{http://www.nmr-relax.com} from external sites is required.
This is one reason why relax can be found at a number of sites across the web:
\begin{description}
  \item[The mail archive:]  This site archives all of the relax mailing lists, including \href{http://mail-archive.com/relax-announce@gna.org/}{relax-announce}, \href{http://mail-archive.com/relax-users@gna.org/}{relax-users}, \href{http://mail-archive.com/relax-devel@gna.org/}{relax-devel}, and \href{http://mail-archive.com/relax-commits@gna.org/}{relax-commits}.
  \item[MARC -  Mailing list ARChives:]  This site archives all of the relax mailing lists, including \href{http://marc.info/?l=relax-announce&r=1&w=2}{relax-announce}, \href{http://marc.info/?l=relax-users&r=1&w=2}{relax-users}, \href{http://marc.info/?l=relax-devel&r=1&w=2}{relax-devel}, and \href{http://marc.info/?l=relax-commits&r=1&w=2}{relax-commits}.
  \item[LinuxLinks.com:]  LinuxLinks.com, the Linux portal, is a website listing many Linux software projects.
    relax can be found on the \href{http://linuxlinks.com/Software/Scientific/Biology/Proteins/}{Software:\-Scientific:\-Biology:\-Proteins} page.
  \item[Softpedia:]  This is the encyclopedia of free software downloads.
    The relax page on Softpedia is \href{http://linux.softpedia.com/get/Science/relax-22351.shtml}{http://linux.softpedia.com/get/Science/relax-22351.shtml}.
    The relax developers pages are:  \href{http://linux.softpedia.com/developer/Edward-d-039-Auvergne-5136.html}{Edward d'Auvergne}.
  \item[Pro-Linux:]  Diese ist eine der gr\"o{\ss}ten deutschsprachigen Seiten zum Thema Linux.
    The relax page is \href{http://www.pro-linux.de/cgi-bin/DBApp/check.cgi?ShowApp..10010.100}{http://\-www.\-pro\--linux.\-de/\-cgi\--bin/\-DB\-App/\-check\-.cgi\-?ShowApp..10010.100}.
\end{description}
